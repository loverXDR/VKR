# Система рекомендаций тематических ресурсов

Проект представляет собой полноценную систему рекомендаций тематических ресурсов, разработанную в рамках выпускной квалификационной работы. Система собирает данные с различных тематических сайтов, анализирует их с использованием модели Word2Vec и предоставляет пользователю удобный интерфейс для поиска и получения рекомендаций.

## Особенности

- Парсеры для сбора данных с тематических сайтов (BHV, DMKPress, Piter)
- Векторная база данных Qdrant для хранения и быстрого поиска данных
- Модель Word2Vec для создания семантически значимых векторных представлений текстов
- Сервис векторных представлений для обработки запросов
- Современный и удобный веб-интерфейс с использованием Bootstrap 5
- Контейнеризация с использованием Docker для простого развертывания

## Структура проекта

```
.
├── base_parser.py                  # Базовый класс для парсеров
├── bhv_parser.py                   # Парсер для сайта BHV
├── daily_update.sh                 # Скрипт для ежедневного обновления данных
├── dmk_parser.py                   # Парсер для сайта DMKPress
├── docker-compose.yml              # Конфигурация Docker Compose
├── Dockerfile.book_parser          # Dockerfile для парсеров книг
├── Dockerfile.embedding_service    # Dockerfile для сервиса векторных представлений
├── Dockerfile.search_app           # Dockerfile для поискового веб-приложения
├── embedding_service.py            # Сервис для генерации векторных представлений
├── initial_setup.sh                # Скрипт для начальной настройки
├── model_service.py                # Сервис для работы с моделью Word2Vec
├── parcer_BHV.py                   # Старая версия парсера BHV
├── parcer_DMKPRESS.py              # Старая версия парсера DMKPress
├── parcer_PITER.py                 # Старая версия парсера Piter
├── piter_parser.py                 # Новая версия парсера Piter
├── qdrant_db_update.py             # Скрипт для обновления базы данных Qdrant
├── README.md                       # Этот файл
├── requirements.txt                # Зависимости проекта
├── search_app.py                   # Поисковое веб-приложение
└── templates/                      # Шаблоны HTML для веб-интерфейса
    ├── about.html                  # Страница о проекте
    ├── base.html                   # Базовый шаблон
    ├── book_details.html           # Страница с детальной информацией о книге
    ├── error.html                  # Страница ошибки
    └── index.html                  # Главная страница с поисковой формой
```

## Установка и запуск

### Требования

- Docker и Docker Compose
- Git

### Шаги по установке

1. Клонировать репозиторий:
   ```bash
   git clone https://github.com/yourusername/thematic-resources-recommender.git
   cd thematic-resources-recommender
   ```

2. Запустить приложение с помощью Docker Compose:
   ```bash
   docker compose up -d
   ```

3. Выполнить начальную настройку:
   ```bash
   ./initial_setup.sh
   ```

4. Доступ к веб-интерфейсу:
   - Откройте в браузере [http://localhost:5000](http://localhost:5000)

### Переменные окружения

В файле `.env` можно настроить следующие параметры:

- `QDRANT_HOST` - хост для базы данных Qdrant (по умолчанию: localhost)
- `QDRANT_PORT` - порт для базы данных Qdrant (по умолчанию: 6333)
- `EMBEDDING_SERVICE_URL` - URL сервиса векторных представлений (по умолчанию: http://localhost:5001)
- `API_KEY` - ключ API для доступа к служебным маршрутам

## Использование

### Поиск ресурсов

1. На главной странице введите ваш запрос в поисковую строку.
2. Нажмите кнопку "Искать" или клавишу Enter.
3. Система отобразит список наиболее релевантных ресурсов.

### Просмотр детальной информации

1. Нажмите на карточку ресурса или на кнопку "Подробнее".
2. На странице с детальной информацией вы увидите полное описание ресурса и список похожих ресурсов.

### Обновление данных

Для обновления базы данных необходимо запустить скрипт:
```bash
./daily_update.sh
```

Для переобучения модели Word2Vec отправьте POST-запрос на эндпоинт `/train_model` с заголовком `X-API-Key`:
```bash
curl -X POST -H "X-API-Key: your_secure_api_key_here" http://localhost:5000/train_model
```

## Архитектура системы

Система состоит из нескольких взаимосвязанных компонентов:

1. **Парсеры** - собирают данные с тематических сайтов и сохраняют их в базу данных.
2. **База данных Qdrant** - векторная база данных для хранения и быстрого поиска данных.
3. **Сервис векторных представлений** - создает векторные представления текстов с использованием моделей трансформеров.
4. **Модель Word2Vec** - обучается на собранных данных и используется для семантического поиска.
5. **Поисковое веб-приложение** - предоставляет интерфейс для взаимодействия с системой.

## Технологии

### Бэкенд
- Python
- Flask
- Qdrant
- Gensim (Word2Vec)
- NLTK
- Docker

### Фронтенд
- HTML5
- CSS3
- JavaScript
- Bootstrap 5
- Font Awesome
- jQuery

## Вклад в проект

Если вы хотите внести свой вклад в проект, пожалуйста, создайте форк репозитория и отправьте pull request.

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности см. в файле LICENSE.